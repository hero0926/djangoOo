{% extends "blog/layout.html" %}

{% block content %}
    <div class="container">
        <div class="row">
        <Form action="" method="get">
            <h4>검색&nbsp;
                <select name="type">
                    <option value="title">제목</option>
                    <option value="subject">내용</option>
                </select>
            <input type="text" name="query">
            <input type="submit" value="검색" class="btn btn-info">
            </h4>
        </Form>
        </div>
        <hr>

            <a href="{% url "blog:post_new" %}" class="btn btn-warning">글쓰기</a>

            <table class="table-bordered">
                <tr>
                    <th>글 번호</th>
                    <th>글 제목</th>
                    <th>작성자</th>
                    <th>날짜</th>
                </tr>
                {% for post in post_list %}

                <tr>
                    <!-- pk는 primary key. 여기서는 인덱스 -->
                    <td>{{post.pk}}</td>
                    <td><a href="{% url "blog:post_detail" post.pk %}">
                        {{post.title}}
                    </a>
                    </td>
                    <td>{{post.author}}</td>
                    <td>{{post.created_at}}</td>
                </tr>


                {% empty %}
                <tr>
                    <td>검색 결과가 없습니다.</td>
                </tr>

                {% endfor %}
            </table>
        </div>
    </div>
{% endblock %}